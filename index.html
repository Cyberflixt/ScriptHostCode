<html>
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <title>
            2020 html be like:
        </title>
        <style>
            input:focus, textarea:focus, select:focus{
                outline: none;
            }
        </style>
    </head>
    <body>
        <div>
            <img src="assets/BackgroundGradient1.png" id="full">
        </div>
        <div class="container">
            <div class="txt" id="txtScript">
                
local Selection = game:GetService("Selection")
local ChangeHistoryService = game:GetService("ChangeHistoryService")
local ts = game:GetService("TweenService")
local rs = game:GetService("RunService")
local BtnClearCoreGui

local toolbar         = plugin:CreateToolbar("Cyber-Util")
local BtnCamToPart    = toolbar:CreateButton("Cam to part", "Create a part to the current camera position", "rbxassetid://5501974348")
local BtnRenameDup    = toolbar:CreateButton("Add suffix", "Rename all parts with numbers", "rbxassetid://5523117574")
local BtnRemovePrefix = toolbar:CreateButton("Remove prefix", "Rename but without a prefix pattern", "rbxassetid://5523117355")
local BtnImportPrefix = toolbar:CreateButton("Import prefix", "Rename imported parts but without the prefix pattern", "rbxassetid://5552949666")

BtnRenameDup.ClickableWhenViewportHidden = true
BtnRemovePrefix.ClickableWhenViewportHidden = true

--local BtnClearCoreGui = toolbar:CreateButton("Clear CoreGui", "Rename all same parts with numbers", "rbxassetid://5501974348")

local AutoRemovePrefix = false
local AutoRemoveImportPrefix = true

--- GUI -------------------------------------------------------------

for _,p in pairs(game.CoreGui:GetChildren()) do
	if p.Name == "PluginGui" or p.Name == "Cyber-Util" then
		p:Destroy()
	end
end

local PluginGui = Instance.new("ScreenGui")
local GuiTxt = Instance.new("TextLabel")
local Frame = Instance.new("Frame")
local GuiColor = Instance.new("Frame")
local Frame_2 = Instance.new("Frame")
local C = Instance.new("Frame")
local List = Instance.new("Frame")
local UIListLayout = Instance.new("UIListLayout")

List.Name = "List"
List.Parent = PluginGui
List.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
List.BorderColor3 = Color3.fromRGB(34, 34, 34)
List.BorderSizePixel = 2
List.Position = UDim2.new(1, -20, 1, -20)
List.Size = UDim2.new(0, -30, -1, 0)
List.BackgroundTransparency = 1

UIListLayout.Parent = List
UIListLayout.Padding = UDim.new(0,8+4)
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom

PluginGui.Name = "Cyber-Util"
PluginGui.Parent = game.CoreGui

GuiTxt.Name = "GuiTxt"
GuiTxt.Parent = PluginGui
GuiTxt.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
GuiTxt.BorderColor3 = Color3.fromRGB(34, 34, 34)
GuiTxt.BorderSizePixel = 2
GuiTxt.Position = UDim2.new(1, -20, 1, -50)
GuiTxt.Size = UDim2.new(0, 100, 0, 30)
GuiTxt.Visible = false
GuiTxt.Font = Enum.Font.SourceSans
GuiTxt.Text = "Auto renamed"
GuiTxt.TextColor3 = Color3.fromRGB(170, 170, 170)
GuiTxt.TextSize = 15.000

Frame.Parent = GuiTxt
Frame.BackgroundColor3 = Color3.fromRGB(46, 46, 46)
Frame.BorderColor3 = Color3.fromRGB(34, 34, 34)
Frame.BorderSizePixel = 2
Frame.Position = UDim2.new(0, 0, 0, -2)
Frame.Size = UDim2.new(1, 0, 0, -4)

GuiColor.Name = "GuiColor"
GuiColor.Parent = PluginGui
GuiColor.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
GuiColor.BorderColor3 = Color3.fromRGB(34, 34, 34)
GuiColor.BorderSizePixel = 2
GuiColor.Position = UDim2.new(1, -20, 1, -50)
GuiColor.Size = UDim2.new(0, 30, 0, 30)
GuiColor.Visible = false

Frame_2.Parent = GuiColor
Frame_2.BackgroundColor3 = Color3.fromRGB(46, 46, 46)
Frame_2.BorderColor3 = Color3.fromRGB(34, 34, 34)
Frame_2.BorderSizePixel = 2
Frame_2.Position = UDim2.new(0, 0, 0, -2)
Frame_2.Size = UDim2.new(1, 0, 0, -4)

C.Name = "C"
C.Parent = GuiColor
C.BackgroundColor3 = Color3.fromRGB(17, 255, 0)
C.BorderColor3 = Color3.fromRGB(34, 34, 34)
C.BorderSizePixel = 2
C.Position = UDim2.new(0, 2, 0, 2)
C.Size = UDim2.new(1, -4, 1, -4)

-------------------------------------------------------------

function pWait(t)
	local bt = tick()+t
	while tick() < bt do
		rs.Heartbeat:Wait()
	end
end

function smooth(p)
	p.BackSurface   = Enum.SurfaceType.SmoothNoOutlines
	p.FrontSurface  = Enum.SurfaceType.SmoothNoOutlines
	p.BottomSurface = Enum.SurfaceType.SmoothNoOutlines
	p.TopSurface    = Enum.SurfaceType.SmoothNoOutlines
	p.RightSurface  = Enum.SurfaceType.SmoothNoOutlines
	p.LeftSurface   = Enum.SurfaceType.SmoothNoOutlines
end

function findAll(str, sub)
	local found = 0
	local positions = {}
	while(found)do
		found = found + 1
		found = str:find(sub, found)
		table.insert(positions, found)
	end
	return positions
end

-------------------------------------------------------------

function NotificationText(text)
	local notif = PluginGui.GuiTxt:Clone()
	notif.Visible = true
	notif.Parent = PluginGui.List
	
	notif.Text = text
	
	pWait(2)
	
	local info = TweenInfo.new(1,Enum.EasingStyle.Sine,Enum.EasingDirection.In)
	ts:Create(notif,info,{TextTransparency = 1,BackgroundTransparency = 1}):Play()
	local t = ts:Create(notif.Frame,info,{BackgroundTransparency = 1})
	t:Play()
	
	t.Completed:Wait()
	local t = ts:Create(notif,info,{Size = UDim2.new(notif.Size.X.Scale,notif.Size.X.Offset,0,0)})
	t:Play()
	t.Completed:Wait()
	notif:Destroy()
end

function NotificationColor(color)
	local notif = PluginGui.GuiColor:Clone()
	notif.Visible = true
	notif.Parent = PluginGui.List
	
	notif.C.BackgroundColor3 = color
	local info = TweenInfo.new(1,Enum.EasingStyle.Sine,Enum.EasingDirection.In)
	--ts:Create(notif,info,{TextTransparency = 1,BackgroundTransparency = 1}):Play()
	ts:Create(notif,info,{BackgroundTransparency = 1}):Play()
	ts:Create(notif.C,info,{BackgroundTransparency = 1}):Play()
	local t = ts:Create(notif.Frame,info,{BackgroundTransparency = 1})
	t:Play()
	
	t.Completed:Wait()
	local t = ts:Create(notif,info,{Size = UDim2.new(notif.Size.X.Scale,notif.Size.X.Offset,0,0)})
	t:Play()
	t.Completed:Wait()
	notif:Destroy()
end

if BtnClearCoreGui then
	BtnClearCoreGui.Click:Connect(function()
		for _,p in pairs(game.CoreGui:GetChildren()) do
			if p ~= PluginGui and (p.Name == "PluginGui" or p.Name == "Cyber-Util") then
				p:Destroy()
			end
		end
	end)
end

function removeImportPrefixSelection(t)
	local name
	local bestPrefix
	
	for _,p in pairs(t) do
		local prefix
		local pn = p.Name
		if name then
			local match
			
			local strEnd = findAll(name,"/")
			if strEnd and strEnd[1] then
				strEnd = strEnd[1]
			else
				strEnd = nil
			end
			
			if strEnd then
				for x=1,strEnd do
					local partPre = string.sub(pn,1,x)
					if partPre == string.sub(name,1,x) and string.len(partPre) ~= string.len(pn) then
						prefix = partPre
					end
				end
				
				if prefix then
					if bestPrefix then
						if string.len(prefix) > string.len(bestPrefix) then
							bestPrefix = prefix
						end
					else
						bestPrefix = prefix
					end
				end
			end
		end
		name = pn
	end
	
	if bestPrefix then
		local res
		
		for _,p in pairs(t) do
			local pn = p.Name
			local partPre = string.sub(pn,1,string.len(bestPrefix))
			if partPre == bestPrefix then
				p.Name = string.sub(pn,string.len(bestPrefix)+1,string.len(pn))
				res = true
			end
		end
		ChangeHistoryService:SetWaypoint("Removed Prefix.")
		
		return res
	end
end

function removePrefixSelection(t)
	local name
	local bestPrefix
	for _,p in pairs(t) do
		local prefix
		local pn = p.Name
		if name then
			local match
			
			local strEnd = findAll(name,"_")
			if strEnd and strEnd[1] then
				strEnd = strEnd[1]
			else
				strEnd = findAll(name,"/")
				if strEnd and strEnd[1] then
					strEnd = strEnd[1]
				else
					local strEnd = findAll(name,"/")
					strEnd = string.len(name)
				end
			end
			
			for x=1,strEnd do
				local partPre = string.sub(pn,1,x)
				if partPre == string.sub(name,1,x) and string.len(partPre) ~= string.len(pn) then
					prefix = partPre
				end
			end
			
			if prefix then
				if bestPrefix then
					if string.len(prefix) > string.len(bestPrefix) then
						bestPrefix = prefix
					end
				else
					bestPrefix = prefix
				end
			end
		end
		name = pn
	end
	
	if bestPrefix then
		for _,p in pairs(t) do
			local pn = p.Name
			local partPre = string.sub(pn,1,string.len(bestPrefix))
			if partPre == bestPrefix then
				p.Name = string.sub(pn,string.len(bestPrefix)+1,string.len(pn))
			end
		end
		ChangeHistoryService:SetWaypoint("Removed Prefix.")
	end
end

function removePrefix(p)
	if p then
		local tab
		pcall(function()
			tab = p[1]
		end)
		if tab and #p==1 then
			p = p[1]
			tab = false
		end
		
		if tab then -- multiple parts
			removePrefixSelection(p)
		else -- single part
			removePrefixSelection(p:GetChildren())
		end
		
		NotificationText("Removed Prefix")
	end
end

function RemoveImportPrefix(p)
	if p then
		local tab
		pcall(function()
			tab = p[1]
		end)
		if tab and #p==1 then
			p = p[1]
			tab = false
		end
		
		local obj = p:GetChildren() -- single part
		if tab then -- multiple parts
			obj = p
		end
		if obj then
			local res = removeImportPrefixSelection(obj)
			if res then
				NotificationText("Removed Prefix")
			end
		end
	end
end

local addedInt = 0
workspace.DescendantAdded:Connect(function(p)
	addedInt = addedInt+1
	local current = addedInt
	
	if AutoRemoveImportPrefix then
		rs.Heartbeat:Wait()
		if current == addedInt then
			RemoveImportPrefix(p.Parent)
		end
	end
	
	if AutoRemovePrefix then
		rs.Heartbeat:Wait()
		if current == addedInt then
			removePrefix(p.Parent)
		end
	end
end)

BtnImportPrefix.Click:Connect(function()
	local selecObj = Selection:Get()
	local fSelec = selecObj[1]
	local function f1()
		if #selecObj > 1 then
			for _,s in pairs(selecObj) do
				if not s:IsA("Model") or fSelec:IsA("Folder") then
					return true
				end
			end
			return false
		elseif not fSelec then
			return false
		else
			return true
		end
	end
	
	local selecType = f1()
	if selecType then --RemoveManual
		RemoveImportPrefix(selecObj)
	else --ToggleAuto
		AutoRemoveImportPrefix = not AutoRemoveImportPrefix
		if AutoRemoveImportPrefix then
			NotificationColor(Color3.new(0,1,0))
		else
			NotificationColor(Color3.new(1,0,0))
		end
	end
end)

BtnRemovePrefix.Click:Connect(function()
	local selecObj = Selection:Get()
	local fSelec = selecObj[1]
	local function f1()
		if #selecObj > 1 then
			for _,s in pairs(selecObj) do
				if not s:IsA("Model") or fSelec:IsA("Folder") then
					return true
				end
			end
			return false
		elseif not fSelec then
			return false
		else
			return true
		end
	end
	
	local selecType = f1()
	if selecType then
		--ToggleAuto
		removePrefix(selecObj)
	else
		--RemoveManual
		AutoRemovePrefix = not AutoRemovePrefix
		if AutoRemovePrefix then
			NotificationColor(Color3.new(0,1,0))
		else
			NotificationColor(Color3.new(1,0,0))
		end
	end
end)

BtnRenameDup.Click:Connect(function()
	local selectedObjects = Selection:Get()
	if #selectedObjects > 1 then
		local firstSelection = selectedObjects[1]
		local name = firstSelection.Name
		for i,p in pairs(selectedObjects)do
			p.Name = name..i
		end
		ChangeHistoryService:SetWaypoint("Added Suffix.")
	end
end)

BtnCamToPart.Click:Connect(function()
	local part = Instance.new("Part")
	part.Size = Vector3.new(1,1.5,4)
	part.Anchored = true
	part.CanCollide = false
	part.CFrame = workspace.CurrentCamera.CFrame
	part.Color = Color3.new(1,0,0)
	smooth(part)
		
	local selectedObjects = Selection:Get()
	local parent = workspace
	if #selectedObjects > 0 then
		local firstSelection = selectedObjects[1]
		parent = firstSelection
	end
	part.Parent = parent
	
	local names = {" "}
	local namesUsed = {false}
	for x=100,1,-1 do
		table.insert(names,tostring(x))
		table.insert(namesUsed,false)
	end
	
	for _,p in pairs(parent:GetChildren()) do
		local name = p.Name
		local int = table.find(names,string.sub(name,7,9))
		if int then
			namesUsed[int] = true
		end
	end
	
	part.Name = "Camera"
	for i,val in pairs(namesUsed) do
		if not val then
			part.Name = "Camera"..names[i]
		end
	end
	
	ChangeHistoryService:SetWaypoint("Added new a part at camera CFrame")
	
	wait(3)
	local info = TweenInfo.new(2,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut)
	ts:Create(part,info,{Transparency = 1}):Play()
end)
            </div>
        </div>
    </body>
    <script src="jsMain.js"></script>
</html>